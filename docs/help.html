<!DOCTYPE html>
<html lang="en-ca">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>js-tts Help</title>
<link rel="shortcut icon" type="image/svg+xml" href="img/speaker.svg" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans:400,700,400italic,700italic"/>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata:400,700"/>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />
<link rel="stylesheet" href="tts.css"/>
<style type="text/css">

body {
    text-align: left;
    margin: auto;
    padding: 8px;
    max-width: 960px;
}

h2, .Center {
    text-align: center;
}

code, pre {
    font-family: "Inconsolata", monospace;
    font-weight: bold;
}

pre {
    max-width: 90%;
    margin: 1em auto;
    padding: 0.5em;
    background-color: #F0F0F0;
}

span.material-symbols-outlined {
    font-size: 32px;
    color: #0065FE;
    padding: 0.5em;
}

</style>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
</head>
<body>
<h2>JavaScript Text-to-Speech</h2>
<p>The <a href="./">js-tts webpage</a> allows you to use your web browser’s built-in speech synthesis to convert text to speech without any JavaScript programming.</p>

<h3>Cast of Voices</h3>
<p>Use the table of voices to select your default voice. The drop-down selection allows you to choose from any of the voices available in your web browser.</p>
<p class="Center"><img src="img/screen.png"/></p>
<p>You can edit the pitch, speaking rate, and volume for each voice, with the value of <code>1</code> being the default. (Some voices may not support changing the pitch or rate.)</p>
<p class="Center"><span class="material-symbols-outlined">person_add</span></p>
<p>If you want to use more than one voice for your speaking script, click the <i>Add Voice</i> button for each additional voice configuration that you want to add to the cast.</p>

<h3>Speaking</h3>
<p>Enter the text you want to speak in the text area below the cast of voices, and click the <i>Play</i> button to convert the text to speech. Each line of text will be spoken as a separate utterance. That is, your browser will convert the first line of text to speech, speak the text, and then proceed to the next line.</p>
<p class="Center">
    <span class="material-symbols-outlined">play_circle</span> &nbsp;
    <span class="material-symbols-outlined">stop_circle</span>
</p>
<p>When you click the <i>Stop</i> button, the browser will finish speaking the current line and then stop.</p>

<h3>Comments &amp; Directives</h3>
<p>You can add comments to your speaking script using a double hash-tag, <code>##</code>. When the program encounters these characters in the script, it will ignore the remainder of the line.</p>
<pre>## Sample script

## Set the automatic delay in seconds...
!! a=1

## Speak the following text...
This is a speech synthesis example, spoken by voice 0.

## Change the current voice and the delay...
!! v=1 & d=2

## Speak the following text...
This example is spoken by voice 1.</pre>
<p>Use a double exclamation mark, <code>!!</code>, at the beginning of a line to make <em>directives</em> to the program...</p>
<ul><li>You can set the delay in seconds before any line with the <code>d</code> directive. This delay applies only to the next line of text.</li></ul>
<pre>!! d=2</pre>
<ul><li>You can use the <code>a</code> directive to specify an automatic delay that applies to all subsequent lines of text that do not have a custom delay...</li></ul>
<pre>!! a=1</pre>
<ul><li>You can select a voice for each line with the <code>v</code> directive. The voice number corresponds to the rows in your cast of voices table...</li></ul>
<pre>!! v=1</pre>
<ul><li>You can make multiple directives on a single line using the <code>&amp;</code> symbol...</li></ul>
<pre>!! v=1 & d=2</pre>

<h3>Saving &amp; Loading Files</h3>
<p>Click the <i>Save</i> button to save your speaking script as a plain text file. Hold the <i>Alt</i> key while clicking to save your cast of voices as a JSON file.</p>
<p class="Center">
    <span class="material-symbols-outlined">save</span> &nbsp;
    <span class="material-symbols-outlined">file_open</span>
</p>
<p>Click on the <i>Open</i> button to load a previously saved speaking script or cast file.</p>
<p>You can edit your cast or speaking script files manually using a text editor. The cast JSON file is formatted like this:</p>
<pre>{"cast": [
    ["Google US English; David", 1, 1, 1],
    ["Richard; Google UK English Male", 1, 1, 1],
    ["Google UK English Female; Zira", 1, 1, 1],
    ["Linda; Mark", 1, 1, 1]
]}</pre>
<p>The key <code>cast</code> is used to identify an array of voice configurations. Each voice in the array is itself an array containing four items: the voice name(s) as a string and the pitch, rate, and volume as numbers.</p>
<p>As the available voices are different depending on your browser and platform, you can specify multiple voices for each role, separated by semi-colons. For example, when the voice name is <code>"Google US English; David"</code>, the program will look first for an available voice name containing the text <code>"Google US English"</code>, and if it does not find a match it will then look for a voice name containing <code>"David"</code>.</p>

<p class="Small Center">© 2024 by D.G. MacCarthy. Hosted on <a target="GitHubRepo" href="https://github.com/dmaccarthy/js-tts">GitHub</a>.
</body>
</html>
